# Code for the Arduino Mega used in the Moisture Sensor Irrigation System Prototype

The ongoing climate change crisis has exasperated drought conditions for our farmers, especially on the west coast. From New Mexico to California to Washington, water conservation has become one of the highest priorities for both the federal and state governments (“Climate Change and Agriculture”). The farmer community is looking towards technology companies and engineers to help them manage this devastating crisis. Our project proposes an innovative approach to conserve water by carefully measuring the amount of moisture in the soil, and activating precisely timed solenoid valves to keep the soil at its optimal moisture levels for the given corn crop to produce the max yield. In our prototype, we are proposing a solution for a farmer who grows corn crops, and this technology will decrease water utilization, and at the same time, it would help increase crop yield. 

This prototype will utilize materials including an Arduino Mega microcontroller, 16 analog capacitive soil moisture sensors, solenoid valves, an AC-DC switch power supply board, and metal piping. The Arduino Mega has the capacity of 16 input analog pins and 54 digital I/O pins. The analog capacitive soil moisture sensors are corrosion resistant, and their operating voltage is 3.3-5.5V (DC). The plastic water solenoid valves have an operational voltage of 12V, but they can stretch to running on as low as 6V. This makes them good to use on spaced-out fields. They have two ½” nominal non-taped national pipe outlets. Finally, the AC-DC switch power supply board is used for our entire circuit, it takes in an input voltage of 100-240V (AC) and outputs 24V (DC). 

We will empirically validate our hypotheses and tune and calibrate the sensors to create the most optimum technological solution through the prototyping process and a field test.  Our solution will also take into account the variability of water consumption based on the soil type, crop type, weather conditions, and stage of growth of the crop because these are all important influencing factors that contribute to the quality of corn production (“Corn Water Use and Irrigation Timing”). The capacitive moisture sensors will require calibration before being put to use, in which three zones of moisture will be quantified and measured: dry, normal, and wet. In our prototype, we will have 4 sensors in a row. For that drip line to receive water, all 4 moisture sensors must reach the dry zone threshold.
